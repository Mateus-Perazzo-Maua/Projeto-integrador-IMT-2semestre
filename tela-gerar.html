<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gerar Imagem - GerAI Poliedro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="d-flex" id="app-container">
    <!-- Sidebar -->
    <aside class="sidebar d-flex flex-column p-3 text-white">
      <a href="home.html" class="d-flex align-items-center mb-4 text-white text-decoration-none sidebar-logo">
        <i class="bi bi-magic fs-3 me-2"></i>
        <span class="fs-4 fw-semibold">GerAI Poliedro</span>
      </a>
      <ul class="nav nav-pills flex-column mb-auto">
        <li><a href="home.html" class="nav-link"><i class="bi bi-house-door me-2"></i>Home</a></li>
        <li><a href="tela-gerar.html" class="nav-link active"><i class="bi bi-stars me-2"></i>Gerar Imagem</a></li>
        <li><a href="historico.html" class="nav-link"><i class="bi bi-archive me-2"></i>Hist√≥rico</a></li>
      </ul>
      <div class="mt-auto">
        <button id="logoutBtn" class="btn btn-gradient w-100 mt-4">
          <i class="bi bi-box-arrow-right me-2"></i>Logout
        </button>
      </div>
    </aside>
    
    <!-- Conte√∫do -->
    <main class="content flex-fill p-5 text-center">
      <div class="welcome-box shadow-sm">
        <h2 class="mb-3 fw-semibold">ü™Ñ Gerar Imagem com IA</h2>
        <p class="text-muted">Escolha a disciplina, o tema e descreva o que deseja criar.</p>

        <div class="mt-4 text-start">

          <!-- Mat√©ria -->
          <label for="materia" class="fw-semibold mb-1">Mat√©ria</label>
          <select id="materia" class="form-select mb-3">
            <option selected disabled>Selecione a mat√©ria</option>
            <option value="fisica">F√≠sica</option>
            <option value="quimica">Qu√≠mica</option>
          </select>

          <!-- Tema -->
          <label for="tema" class="fw-semibold mb-1">Tema</label>
          <select id="tema" class="form-select mb-3">
            <option selected disabled>Selecione o tema</option>
          </select>

          <!-- Prompt -->
          <label for="prompt" class="fw-semibold mb-1">Descri√ß√£o da Imagem</label>
          <textarea id="prompt" class="form-control mb-4" rows="3" placeholder="Exemplo: modelo at√¥mico de Bohr ilustrado em sala de aula..."></textarea>

          <button id="gerarBtn" class="btn btn-gradient px-4">
            <i class="bi bi-image me-2"></i>Gerar Imagem
          </button>
        </div>

        <!-- Resultado -->
        <div id="resultado" class="mt-5 d-none">
          <h5 class="fw-semibold mb-3">Resultado:</h5>
          <img id="imgResultado" src="https://picsum.photos/800/400" class="rounded-4 shadow-lg" alt="gerado" />
        </div>
      </div>
    </main>
  </div>

  <script>
    // Apenas temas por mat√©ria (sem professores)
    const temas = {
      fisica: ["Leis de Newton", "Eletromagnetismo", "√ìptica", "Movimento Retil√≠neo"],
      quimica: ["Tabela Peri√≥dica", "Liga√ß√µes Qu√≠micas", "Rea√ß√µes Org√¢nicas", "Atom√≠stica"]
    };

    const materiaSelect = document.getElementById("materia");
    const temaSelect = document.getElementById("tema");
    const gerarBtn = document.getElementById("gerarBtn");
    const resultado = document.getElementById("resultado");
    const imgResultado = document.getElementById("imgResultado");
    const promptField = document.getElementById("prompt");

    // Ao mudar a mat√©ria, atualiza os temas
    materiaSelect.addEventListener("change", () => {
      const materia = materiaSelect.value;

      temaSelect.innerHTML = '<option selected disabled>Selecione o tema</option>';
      if (temas[materia]) {
        temas[materia].forEach(t => {
          const option = document.createElement("option");
          option.textContent = t;
          option.value = t;
          temaSelect.appendChild(option);
        });
      }

      // esconde resultado anterior e limpa prompt opcionalmente
      resultado.classList.add('d-none');
    });

    // Simula√ß√£o de gera√ß√£o: mostra imagem placeholder e exibe prompt usado
    gerarBtn.addEventListener("click", () => {
      const prompt = promptField.value.trim();
      const materia = materiaSelect.value;
      const tema = temaSelect.value;

      if (!materia || !tema) return alert('Por favor selecione a mat√©ria e o tema.');
      if (!prompt) return alert('Por favor descreva a imagem desejada.');

      // exemplo: mudar imagem placeholder por semente para diferenciar
      const seed = materia + '-' + tema;
      imgResultado.src = https://picsum.photos/seed/${encodeURIComponent(seed)}/800/400;

      resultado.classList.remove('d-none');
      // se desejar, aqui voc√™ integraria a chamada √† API real, usando o prompt.
    });
  </script>
</body>
</html>